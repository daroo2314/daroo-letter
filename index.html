<!--<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>일고오창 By. daroo</title>
<!-- 최신 카카오 SDK 사용 -->
<script src="https://t1.kakaocdn.net/kakao_js_sdk/2.5.0/kakao.min.js" 
      integrity="sha384-kYPsUbBPlktXsY6/oNHSUDZoTX6+YI51f63jCPEIPFP09ttByAdxd2mEjKuhdqn4" 
      crossorigin="anonymous"></script>
<style>
  body {
    font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
    padding: 20px;
  }
  .kakao-button {
    display: inline-block;
    cursor: pointer;
    margin-top: 10px;
  }
  .talk-icon {
    width: 50px;
    height: 50px;
  }
  .error-message {
    color: red;
    margin-top: 10px;
    display: none;
  }
  /* 제목 스타일 */
  .title {
    font-weight: bold;
    font-size: 24px;
    margin-bottom: 20px;
  }
</style>
</head>
<body>
<!-- 제목은 한 번만 표시 -->
<div class="title">일고오창 By. daroo</div>

<!-- 카카오톡 버튼 - h2 제거 -->
<div class="kakao-button" onclick="sendKakaoLink()">
  <img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_medium.png" alt="카카오톡 공유하기" class="talk-icon">
</div>

<!-- 오류 메시지 표시 영역 -->
<div id="error-message" class="error-message"></div>

<script type="text/javascript">
  // 초기화 함수
  function initKakao() {
    try {
      // SDK 초기화
      Kakao.init('804ef611d4f6f7ac4d1459f097a4fe8d');
      console.log('Kakao SDK 초기화 상태:', Kakao.isInitialized());
      
      if (!Kakao.isInitialized()) {
        document.getElementById('error-message').style.display = 'block';
        document.getElementById('error-message').innerText = 'Kakao SDK 초기화에 실패했습니다.';
      }
    } catch (e) {
      console.error('Kakao 초기화 오류:', e);
      document.getElementById('error-message').style.display = 'block';
      document.getElementById('error-message').innerText = 'Kakao SDK 로딩에 실패했습니다: ' + e.message;
    }
  }

  // 카카오톡 공유 함수
  function sendKakaoLink() {
    try {
      if (!Kakao.isInitialized()) {
        initKakao(); // 초기화 되지 않았다면 다시 시도
      }
      
      Kakao.Share.sendDefault({
        objectType: 'feed',
        content: {
          title: "조용수의 '일고오창' 여섯 번째 鼓 : 고수 조용수, 다섯 제(制)의 수궁에 유(留)하다",
          description: '고수 조용수의 북에 다섯 소리꾼의 다섯 제가 연창으로 이어지는 완창무대',
          imageUrl: 'https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fo1uvK%2FbtsMPuGPFss%2FVDGLwBTLK4CCpFmNDvXlb0%2Fimg.jpg',
          link: {
            // 기본 링크는 3월 28일 공연으로 설정
            mobileWebUrl: 'https://www.ntok.go.kr/kr/Ticket/Performance/Details?performanceId=266913',
            webUrl: 'https://www.ntok.go.kr/kr/Ticket/Performance/Details?performanceId=266913'
          }
        },
        buttons: [
          {
            title: '예매3월27일',
            link: {
              // 첫 번째 버튼 - 3월 27일 공연 링크
              mobileWebUrl: 'https://www.ntok.go.kr/kr/Ticket/Performance/Details?performanceId=266912',
              webUrl: 'https://www.ntok.go.kr/kr/Ticket/Performance/Details?performanceId=266912'
            }
          },
          {
            title: '예매3월28일',
            link: {
              // 두 번째 버튼 - 3월 28일 공연 링크
              mobileWebUrl: 'https://www.ntok.go.kr/kr/Ticket/Performance/Details?performanceId=266913',
              webUrl: 'https://www.ntok.go.kr/kr/Ticket/Performance/Details?performanceId=266913'
            }
          }
        ]
      });
      
    } catch (e) {
      console.error('카카오톡 공유 오류:', e);
      document.getElementById('error-message').style.display = 'block';
      document.getElementById('error-message').innerText = '카카오톡 공유에 실패했습니다: ' + e.message;
    }
  }

  // 페이지 로드 시 카카오 SDK 초기화 - 한 번만 실행되도록 설정
  document.addEventListener('DOMContentLoaded', function() {
    initKakao();
  });
</script>
</body>
</html>-->





<!--<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>일고오창 By. daroo</title>
<!-- 최신 카카오 SDK 사용 -->
<script src="https://t1.kakaocdn.net/kakao_js_sdk/2.5.0/kakao.min.js" 
      integrity="sha384-kYPsUbBPlktXsY6/oNHSUDZoTX6+YI51f63jCPEIPFP09ttByAdxd2mEjKuhdqn4" 
      crossorigin="anonymous"></script>
<style>
  body {
    font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
    padding: 20px;
  }
  .kakao-button {
    display: inline-block;
    cursor: pointer;
    margin-top: 10px;
  }
  .talk-icon {
    width: 50px;
    height: 50px;
  }
  .error-message {
    color: red;
    margin-top: 10px;
    display: none;
  }
  /* 제목 스타일 */
  .title {
    font-weight: bold;
    font-size: 24px;
    margin-bottom: 20px;
  }
  /* 로그 메시지를 표시할 영역 스타일 */
  .log-message {
    margin-top: 10px;
    color: green;
    font-size: 12px;
    display: none;
  }
</style>
</head>
<body>
<!-- 제목은 한 번만 표시 -->
<div class="title">일고오창 By. daroo</div>
<!-- 카카오톡 버튼 -->
<div class="kakao-button" onclick="sendKakaoLink()">
  <img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_medium.png" alt="카카오톡 공유하기" class="talk-icon">
</div>
<!-- 오류 메시지 표시 영역 -->
<div id="error-message" class="error-message"></div>
<!-- 로그 메시지 표시 영역 -->
<div id="log-message" class="log-message"></div>

<script type="text/javascript">
  // 티켓 URL 상수 정의 - 전체 URL을 명시적으로 지정
  const TICKET_URL_27 = 'https://www.ntok.go.kr/kr/Ticket/Performance/Details?performanceId=266912';
  const TICKET_URL_28 = 'https://www.ntok.go.kr/kr/Ticket/Performance/Details?performanceId=266913';
  
  // 초기화 상태 확인용 변수
  let kakaoInitialized = false;
  
  // 로그 표시 함수
  function showLog(message) {
    const logElement = document.getElementById('log-message');
    logElement.innerText = message;
    logElement.style.display = 'block';
    console.log(message);
  }
  
  // 에러 표시 함수
  function showError(message) {
    const errorElement = document.getElementById('error-message');
    errorElement.innerText = message;
    errorElement.style.display = 'block';
    console.error(message);
  }
  
  // 초기화 함수
  function initKakao() {
    try {
      // 이미 초기화되었는지 확인
      if (kakaoInitialized) {
        showLog('Kakao SDK 이미 초기화되었습니다.');
        return true;
      }
      
      // SDK 초기화
      Kakao.init('804ef611d4f6f7ac4d1459f097a4fe8d');
      kakaoInitialized = Kakao.isInitialized();
      
      if (kakaoInitialized) {
        showLog('Kakao SDK 초기화 성공');
        return true;
      } else {
        showError('Kakao SDK 초기화에 실패했습니다.');
        return false;
      }
    } catch (e) {
      showError('Kakao SDK 로딩에 실패했습니다: ' + e.message);
      return false;
    }
  }
  
  // 카카오톡 공유 함수
  function sendKakaoLink() {
    try {
      // 초기화 여부 확인
      if (!kakaoInitialized && !initKakao()) {
        return; // 초기화 실패 시 종료
      }
      
      // 공유 내용 설정
      const shareContent = {
        objectType: 'feed',
        content: {
          title: "조용수의 '일고오창' 여섯 번째 鼓 : 고수 조용수, 다섯 제(制)의 수궁에 유(留)하다",
          description: '고수 조용수의 북에 다섯 소리꾼의 다섯 제가 연창으로 이어지는 완창무대',
          imageUrl: 'https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fo1uvK%2FbtsMPuGPFss%2FVDGLwBTLK4CCpFmNDvXlb0%2Fimg.jpg',
          link: {
            // 기본 링크는 3월 28일 공연으로 설정 - 명시적으로 URL 지정
            mobileWebUrl: TICKET_URL_28,
            webUrl: TICKET_URL_28
          }
        },
        buttons: [
          {
            title: '예매3월27일',
            link: {
              // 첫 번째 버튼 - 3월 27일 공연 링크 - 명시적으로 URL 지정
              mobileWebUrl: TICKET_URL_27,
              webUrl: TICKET_URL_27
            }
          },
          {
            title: '예매3월28일',
            link: {
              // 두 번째 버튼 - 3월 28일 공연 링크 - 명시적으로 URL 지정
              mobileWebUrl: TICKET_URL_28,
              webUrl: TICKET_URL_28
            }
          }
        ]
      };
      
      // 공유 실행 전 확인 로그
      console.log('공유 내용:', shareContent);
      console.log('27일 공연 URL:', TICKET_URL_27);
      console.log('28일 공연 URL:', TICKET_URL_28);
      
      // 공유 실행
      Kakao.Share.sendDefault(shareContent);
      showLog('카카오톡 공유 성공');
      
    } catch (e) {
      showError('카카오톡 공유에 실패했습니다: ' + e.message);
    }
  }
  
  // 페이지 로드 시 카카오 SDK 한 번만 초기화
  document.addEventListener('DOMContentLoaded', function() {
    initKakao();
  });
</script>
</body>
</html>-->






<!--<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>일고오창 By. daroo</title>
<!-- 최신 카카오 SDK 사용 -->
<script src="https://t1.kakaocdn.net/kakao_js_sdk/2.5.0/kakao.min.js" 
      integrity="sha384-kYPsUbBPlktXsY6/oNHSUDZoTX6+YI51f63jCPEIPFP09ttByAdxd2mEjKuhdqn4" 
      crossorigin="anonymous"></script>
<style>
  body {
    font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
    padding: 20px;
  }
  .kakao-button {
    display: inline-block;
    cursor: pointer;
    margin-top: 10px;
  }
  .talk-icon {
    width: 50px;
    height: 50px;
  }
  .error-message {
    color: red;
    margin-top: 10px;
    display: none;
  }
  /* 제목 스타일 */
  .title {
    font-weight: bold;
    font-size: 24px;
    margin-bottom: 20px;
  }
</style>
</head>
<body>
<!-- 제목은 한 번만 표시 -->
<div class="title">일고오창 By. daroo</div>
<!-- 카카오톡 버튼 -->
<div class="kakao-button" onclick="sendKakaoLink()">
  <img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_medium.png" alt="카카오톡 공유하기" class="talk-icon">
</div>
<!-- 오류 메시지 표시 영역 -->
<div id="error-message" class="error-message"></div>

<script type="text/javascript">
  // 전역 변수로 초기화 상태 추적
  let isKakaoInitialized = false;
  
  // 티켓 URL 상수 정의
  const TICKET_URL_27 = 'https://www.ntok.go.kr/kr/Ticket/Performance/Details?performanceId=266912';
  const TICKET_URL_28 = 'https://www.ntok.go.kr/kr/Ticket/Performance/Details?performanceId=266913';
  
  // 이미지 URL
  const IMAGE_URL = 'https://img1.daumcdn.net/thumb/R500x800/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fo1uvK%2FbtsMPuGPFss%2FVDGLwBTLK4CCpFmNDvXlb0%2Fimg.jpg';
  
  // 에러 표시 함수
  function showError(message) {
    const errorElement = document.getElementById('error-message');
    errorElement.innerText = message;
    errorElement.style.display = 'block';
    console.error(message);
  }
  
  // 초기화 함수 - 한 번만 실행되도록 수정
  function initKakao() {
    // 이미 초기화되었으면 다시 하지 않음
    if (isKakaoInitialized) {
      return true;
    }
    
    try {
      Kakao.init('804ef611d4f6f7ac4d1459f097a4fe8d');
      isKakaoInitialized = Kakao.isInitialized();
      
      if (!isKakaoInitialized) {
        showError('Kakao SDK 초기화에 실패했습니다.');
        return false;
      }
      
      return true;
    } catch (e) {
      showError('Kakao SDK 로딩에 실패했습니다: ' + e.message);
      return false;
    }
  }
  
  // 카카오톡 공유 함수
  function sendKakaoLink() {
    // 초기화 확인 및 실행
    if (!isKakaoInitialized && !initKakao()) {
      return; // 초기화 실패 시 종료
    }
    
    try {      
      Kakao.Share.sendDefault({
        objectType: 'feed',
        content: {
          title: "조용수의 '일고오창' 여섯 번째 鼓 : 고수 조용수, 다섯 제(制)의 수궁에 유(留)하다",
          description: '고수 조용수의 북에 다섯 소리꾼의 다섯 제가 연창으로 이어지는 완창무대',
          imageUrl: IMAGE_URL,
          link: {
            // 기본 링크는 3월 28일 공연으로 설정
            mobileWebUrl: TICKET_URL_28,
            webUrl: TICKET_URL_28
          }
        },
        buttons: [
          {
            title: '예매3월27일',
            link: {
              // 첫 번째 버튼 - 3월 27일 공연 링크
              mobileWebUrl: TICKET_URL_27,
              webUrl: TICKET_URL_27
            }
          },
          {
            title: '예매3월28일',
            link: {
              // 두 번째 버튼 - 3월 28일 공연 링크
              mobileWebUrl: TICKET_URL_28,
              webUrl: TICKET_URL_28
            }
          }
        ]
      });
      
    } catch (e) {
      showError('카카오톡 공유에 실패했습니다: ' + e.message);
    }
  }
  
  // 페이지 로드 시 초기화 - 한 번만 실행
  document.addEventListener('DOMContentLoaded', function() {
    initKakao();
  });
</script>
</body>
</html>-->





<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>일고오창 By. daroo</title>
<style>
  body {
    font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
    padding: 20px;
  }
  .container {
    max-width: 600px;
    margin: 0 auto;
  }
  .title {
    font-weight: bold;
    font-size: 24px;
    margin-bottom: 20px;
  }
  .kakao-buttons {
    display: flex;
    gap: 15px;
    margin-top: 15px;
  }
  .kakao-button {
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    background-color: #FEE500;
    border-radius: 4px;
    padding: 8px 12px;
    border: none;
  }
  .talk-icon {
    width: 24px;
    height: 24px;
    margin-right: 8px;
  }
  .error-message {
    color: red;
    margin-top: 10px;
    display: none;
    font-size: 14px;
  }
  .preview-image {
    max-width: 250px;
    margin-top: 20px;
  }
</style>
</head>
<body>
<div class="container">
  <!-- 제목은 한 번만 표시 -->
  <div class="title">일고오창 By. daroo</div>
  
  <!-- 썸네일 미리보기 -->
  <img src="https://img1.daumcdn.net/thumb/R500x800/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fo1uvK%2FbtsMPuGPFss%2FVDGLwBTLK4CCpFmNDvXlb0%2Fimg.jpg" class="preview-image" alt="공연 포스터">
  
  <!-- 카카오톡 버튼들 -->
  <div class="kakao-buttons">
    <button class="kakao-button" onclick="sendDefaultLink()">
      <img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_small.png" alt="카카오톡 공유" class="talk-icon">
      기본 공유하기
    </button>
    
    <button class="kakao-button" onclick="sendTemplateLink()">
      <img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_small.png" alt="카카오톡 템플릿 공유" class="talk-icon">
      템플릿 공유하기
    </button>
  </div>
  
  <!-- 오류 메시지 표시 영역 -->
  <div id="error-message" class="error-message"></div>
</div>

<!-- Kakao SDK를 body 끝부분에 로드 -->
<script src="https://t1.kakaocdn.net/kakao_js_sdk/2.5.0/kakao.min.js" 
      integrity="sha384-kYPsUbBPlktXsY6/oNHSUDZoTX6+YI51f63jCPEIPFP09ttByAdxd2mEjKuhdqn4" 
      crossorigin="anonymous"></script>

<script type="text/javascript">
  // 티켓 URL 상수 정의
  const TICKET_URL_27 = 'https://www.ntok.go.kr/kr/Ticket/Performance/Details?performanceId=266912';
  const TICKET_URL_28 = 'https://www.ntok.go.kr/kr/Ticket/Performance/Details?performanceId=266913';
  
  // 이미지 URL - 명시적으로 500x800 크기 지정
  const IMAGE_URL = 'https://img1.daumcdn.net/thumb/R500x800/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fo1uvK%2FbtsMPuGPFss%2FVDGLwBTLK4CCpFmNDvXlb0%2Fimg.jpg';
  
  // 템플릿 ID
  const TEMPLATE_ID = 118642;
  
  // 에러 표시 함수
  function showError(message) {
    const errorElement = document.getElementById('error-message');
    if (errorElement) {
      errorElement.innerText = message;
      errorElement.style.display = 'block';
    }
    console.error('에러:', message);
  }
  
  // Kakao SDK 초기화 함수 - 한 번만 실행되도록 보장
  let kakaoInitialized = false;
  
  function initKakao() {
    if (kakaoInitialized) return true;
    
    try {
      if (!Kakao) {
        showError('Kakao SDK가 로드되지 않았습니다.');
        return false;
      }
      
      // 이미 초기화되었는지 확인
      if (Kakao.isInitialized()) {
        kakaoInitialized = true;
        return true;
      }
      
      // 초기화
      Kakao.init('804ef611d4f6f7ac4d1459f097a4fe8d');
      kakaoInitialized = Kakao.isInitialized();
      
      if (!kakaoInitialized) {
        showError('Kakao SDK 초기화에 실패했습니다.');
        return false;
      }
      
      return true;
    } catch (e) {
      showError('Kakao SDK 초기화 중 오류 발생: ' + e.message);
      return false;
    }
  }
  
  // 기본 공유하기 함수
  function sendDefaultLink() {
    if (!initKakao()) return;
    
    try {
      Kakao.Share.sendDefault({
        objectType: 'feed',
        content: {
          title: "조용수의 '일고오창' 여섯 번째 鼓 : 고수 조용수, 다섯 제(制)의 수궁에 유(留)하다",
          description: '고수 조용수의 북에 다섯 소리꾼의 다섯 제가 연창으로 이어지는 완창무대',
          imageUrl: IMAGE_URL,
          imageWidth: 500,
          imageHeight: 800,
          link: {
            mobileWebUrl: TICKET_URL_28,
            webUrl: TICKET_URL_28
          }
        },
        buttons: [
          {
            title: '예매3월27일',
            link: {
              mobileWebUrl: TICKET_URL_27,
              webUrl: TICKET_URL_27
            }
          },
          {
            title: '예매3월28일',
            link: {
              mobileWebUrl: TICKET_URL_28,
              webUrl: TICKET_URL_28
            }
          }
        ]
      });
    } catch (e) {
      showError('기본 공유하기 실패: ' + e.message);
    }
  }
  
  // 템플릿 공유하기 함수
  function sendTemplateLink() {
    if (!initKakao()) return;
    
    try {
      Kakao.Share.sendCustom({
        templateId: TEMPLATE_ID,
        templateArgs: {
          'title': "조용수의 '일고오창' 여섯 번째 鼓",
          'description': '고수 조용수, 다섯 제(制)의 수궁에 유(留)하다',
          'imageUrl': IMAGE_URL,
          'ticket_url_27': TICKET_URL_27,
          'ticket_url_28': TICKET_URL_28
        }
      });
    } catch (e) {
      showError('템플릿 공유하기 실패: ' + e.message);
    }
  }
</script>
</body>
</html>
